 <!--Pie de pagina-->
  <footer class="main-footer">
    <div class="pull-right hidden-xs">
      <b>Versi&oacute;n</b> 1.0
    </div>
    <strong>Copyright &copy; 2018 <a href="#" style="color: #006c90;">Rubrika</a>.</strong>
  </footer>
  <!-- Fin de Wrapper -->

  <!--Scripts-->

  <!--Ocultar cargando-->
  <script>
    OcultarCargando();

    function muestramenu()
    {
       var cookie_dc = document.cookie;
       var cookie_prefix = "muestramenu" + "=";
       var cookie_begin = cookie_dc.indexOf("; " + cookie_prefix);
       
       if (cookie_begin == -1)
       {
          setCookie ("muestramenu","cerrado","365");
       }
       else
       {
         var rescookie = getCookie("muestramenu");
         if (rescookie == "cerrado")
         {
            setCookie ("muestramenu","abierto","365");
         }
         else
         {
            setCookie ("muestramenu","cerrado","365");
         }
       }
    }
  </script>
    
  <!--Mensaje-->
  <script>
  
   var elementoOK     = document.getElementById("mensajeOK");
   var elementoError  = document.getElementById("mensajeError");
  
   if (elementoOK.innerHTML !="")
   {
      elementoOK.className += "callout callout-success";
      elementoError.innerHTML = "";
      elementoError.className = "";
   }
  
   if (elementoError.innerHTML !="")
   {
    elementoError.className += "callout callout-danger";
    elementoOK.innerHTML = "";
    elementoOK.className = "";
   }
  </script>
  
  <!--pie de pagina-->
  <!-- jQuery-->
   
  <!-- AdminLTE App -->
  <script src="js/adminlte.min.js"></script>
  
  <script>
  var elems = Array.prototype.slice.call(document.querySelectorAll('.js-switch'));

  elems.forEach(function(html) {
    var switchery = new Switchery(html);
  });
  </script>
   
  <!--JS personalizado-->
  <script src="js/comun.js"></script>
  
  <script>
    opcionsel = getCookie("opcion");
    
    if (opcionsel == "li_reportes_ua" || opcionsel == "li_reportes_usa" || opcionsel == "li_reportes_ed" || opcionsel == "li_reportes_dg" )
    {
      document.getElementById("li_reportes").className = "active";
    }
    
    if (opcionsel == "li_empresas" || opcionsel == "li_clientes" || opcionsel == "li_notaria" )
    {
      document.getElementById("li_empresasm").className = "active";
    }
    
    if (opcionsel == "li_usuarios" || opcionsel == "li_perfiles" )
    {
      document.getElementById("li_gestionusuarios").className = "active";
    }
    
    if (opcionsel == "li_plantillas" || opcionsel == "li_clausulas" || opcionsel == "li_categorias")
    {
      document.getElementById("m_gestPlantilla").className = "active";
    }
    
    if (opcionsel == "li_importarclientes" || opcionsel == "li_importarsubproyectos" )
    {
      document.getElementById("li_importaciondatos").className = "active";
    }
    
    document.getElementById(opcionsel).className = "active";
  </script>

 <!-- DataTables -->
  <script src="js/jquery.dataTables.js"></script>
  <script src="js/dataTables.bootstrap.min.js"></script>

  <script>
    //Tablas de Listado
    $(function () {
      $('#example2').DataTable({
        'paging'      : true,
        'lengthMenu': [ 10, 25, 50 ],
        'lengthChange': true,
        'searching'   : true,
        'ordering'    : true,
        'info'        : true,
        'autoWidth'   : false,
        'fixedColumns': true
        })
      })
    //Tabla de seleccion de Clausulas dentro de Plantillas
     $(function () {
      $('#example3').DataTable({
        'paging'      : true,
        'lengthChange': false,
        'searching'   : false,
        'ordering'    : true,
        'info'        : true,
        'autoWidth'   : false,
        'fixedColumns': true
        })
      })
	  
	 //Tabla de seleccion de Clausulas dentro de Plantillas
     $(function () {
      $('#example4').DataTable({
        'paging'      : true,
        'lengthChange': false,
        'searching'   : false,
        'ordering'    : false,
        'info'        : true,
        'autoWidth'   : false,
        'fixedColumns': true
        })
      })
  </script>   
  <!--Editor de Texto-->
  <script src="plugins/ckeditor/ckeditor.js"></script>
  <script>
    $(function () {
      //Genera el editor de texto para Correo y Personerias
      CKEDITOR.replace('TextoTxt',
      {
        toolbar: [
          { name: 'clipboard', items: [ 'PasteFromWord', '-', 'Undo', 'Redo' ] },
          { name: 'basicstyles', items: [ 'Bold', 'Italic', 'Underline', 'Strike', 'RemoveFormat', 'Subscript', 'Superscript' ] },
          { name: 'links', items: [ 'Link', 'Unlink' ] },
          { name: 'paragraph', items: [ 'NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote' ] },
          { name: 'insert', items: [ 'Image', 'Table', 'HorizontalRule','PageBreak' ] },
          { name: 'editing', items: [ 'Scayt' ] },
          '/',
          { name: 'styles', items: [ 'Format', 'Font', 'FontSize' ] },
          { name: 'colors', items: [ 'TextColor', 'BGColor', 'CopyFormatting' ] },
          { name: 'align', items: [ 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock' ] },
          { name: 'document', items: [ 'Print', 'Source' ] }
        ],

        // Enabling extra plugins, available in the full-all preset: https://ckeditor.com/cke4/presets
        extraPlugins: 'colorbutton,justify,tableresize,colordialog',
        removeButtons: '',
        customConfig: '',
        bodyClass: 'document-editor',

        // Reduce the list of block elements listed in the Format dropdown to the most commonly used.
        format_tags: 'p;h1;h2;h3;pre',
      })
    });

  </script>
  <script type="text/javascript">
      //Genera el editor de texto para Clausulas 
      CKEDITOR.replace('TextoTxt_Clausulas',
      {
      // Define the toolbar: https://docs.ckeditor.com/ckeditor4/docs/#!/guide/dev_toolbar
      // The full preset from CDN which we used as a base provides more features than we need.
      // Also by default it comes with a 3-line toolbar. Here we put all buttons in a single row.
      toolbar: [
        { name: 'clipboard', items: [ 'PasteFromWord', '-', 'Undo', 'Redo' ] },
        { name: 'basicstyles', items: [ 'Bold', 'Italic', 'Underline', 'Strike', 'RemoveFormat', 'Subscript', 'Superscript' ] },
        { name: 'links', items: [ 'Link', 'Unlink' ] },
        { name: 'paragraph', items: [ 'NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote' ] },
        { name: 'insert', items: [ 'Image', 'Table', 'HorizontalRule','PageBreak' ] },
        { name: 'editing', items: [ 'Scayt' ] },
        '/',
        { name: 'styles', items: [ 'Format', 'Font', 'FontSize' ] },
        { name: 'colors', items: [ 'TextColor', 'BGColor', 'CopyFormatting' ] },
        { name: 'align', items: [ 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock' ] },
        { name: 'document', items: [ 'Print', 'Source' ] } 
      ],

      // Enabling extra plugins, available in the full-all preset: https://ckeditor.com/cke4/presets
      extraPlugins: 'colorbutton,font,justify,print,tableresize,pastefromword,liststyle,colordialog',
      removeButtons: '',

      // Make the editing area bigger than default.
      //height: 350,
      //width: 940

      // Since we define all configuration options here, let's instruct CKEditor to not load config.js which it does by default.
      // One HTTP request less will result in a faster startup time.
      // For more information check https://docs.ckeditor.com/ckeditor4/docs/#!/api/CKEDITOR.config-cfg-customConfig
      customConfig: '',

      // Upload images to a CKFinder connector (note that the response type is set to JSON).
      uploadUrl: '/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Files&responseType=json',

      // Configure your file manager integration. This example uses CKFinder 3 for PHP.
      filebrowserBrowseUrl: '/ckfinder/ckfinder.html',
      filebrowserImageBrowseUrl: '/ckfinder/ckfinder.html?type=Images',
      filebrowserUploadUrl: '/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Files',
      filebrowserImageUploadUrl: '/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Images',

      // Sometimes applications that convert HTML to PDF prefer setting image width through attributes instead of CSS styles.
      // For more information check:
      //  - About Advanced Content Filter: https://docs.ckeditor.com/ckeditor4/docs/#!/guide/dev_advanced_content_filter
      //  - About Disallowed Content: https://docs.ckeditor.com/ckeditor4/docs/#!/guide/dev_disallowed_content
      //  - About Allowed Content: https://docs.ckeditor.com/ckeditor4/docs/#!/guide/dev_allowed_content_rules
      disallowedContent: 'img{width,height,float}',
      extraAllowedContent: 'img[width,height,align];span{background}',

      // Enabling extra plugins, available in the full-all preset: https://ckeditor.com/cke4/presets
      extraPlugins: 'colorbutton,font,justify,print,tableresize,uploadimage,uploadfile,pastefromword,liststyle',

      /*********************** File management support ***********************/
      // In order to turn on support for file uploads, CKEditor has to be configured to use some server side
      // solution with file upload/management capabilities, like for example CKFinder.
      // For more information see https://docs.ckeditor.com/ckeditor4/docs/#!/guide/dev_ckfinder_integration

      // Uncomment and correct these lines after you setup your local CKFinder instance.
      // filebrowserBrowseUrl: 'http://example.com/ckfinder/ckfinder.html',
      // filebrowserUploadUrl: 'http://example.com/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Files',
      /*********************** File management support ***********************/
      // An array of stylesheets to style the WYSIWYG area.
      // Note: it is recommended to keep your own styles in a separate file in order to make future updates painless.
      contentsCss: [ CKEDITOR.basePath + 'contents.css', 'https://sdk.ckeditor.com/samples/assets/css/pastefromword.css' ],

      // This is optional, but will let us define multiple different styles for multiple editors using the same CSS file.
      bodyClass: 'document-editor',

      // Reduce the list of block elements listed in the Format dropdown to the most commonly used.
      format_tags: 'p;h1;h2;h3;pre',

      // Simplify the Image and Link dialog windows. The "Advanced" tab is not needed in most cases.
      removeDialogTabs: 'image:advanced;link:advanced',

      // Define the list of styles which should be available in the Styles dropdown list.
      // If the "class" attribute is used to style an element, make sure to define the style for the class in "mystyles.css"
      // (and on your website so that it rendered in the same way).
      // Note: by default CKEditor looks for styles.js file. Defining stylesSet inline (as below) stops CKEditor from loading
      // that file, which means one HTTP request less (and a faster startup).
      // For more information see https://docs.ckeditor.com/ckeditor4/docs/#!/guide/dev_styles
      stylesSet: [
        /* Inline Styles */
        { name: 'Marker', element: 'span', attributes: { 'class': 'marker' } },
        { name: 'Cited Work', element: 'cite' },
        { name: 'Inline Quotation', element: 'q' },

        /* Object Styles */
        {
          name: 'Special Container',
          element: 'div',
          styles: {
            padding: '5px 10px',
            background: '#eee',
            border: '1px solid #ccc'
          }
        },
        {
          name: 'Compact table',
          element: 'table',
          attributes: {
            cellpadding: '5',
            cellspacing: '0',
            border: '1',
            bordercolor: '#ccc'
          },
          styles: {
            'border-collapse': 'collapse'
          }
        },
        { name: 'Borderless Table', element: 'table', styles: { 'border-style': 'hidden', 'background-color': '#E6E6FA' } },
        { name: 'Square Bulleted List', element: 'ul', styles: { 'list-style-type': 'square' } }
      ]
    });

  </script>
  <!--Tomar datos con ajax y reasigna datos de un selec a un input hidden-->
  <script>
    //Reasigna valores de campos 
    function envia(){ 
     document.getElementById('RutEmpresa').value=document.getElementById('Empresa').value;
    }
  </script>

<!--Drag and Drop -->
<script src="js/jquery.tablednd.min.js?=1.0"></script>
<script type="text/javascript">
   $(document).ready(function() {
      $('#table').tableDnD({
            onDrop: function(table, row) {
              //Asigno el contenido del resultado al div
              var orden = $.tableDnD.serialize();
              //orden = table[]=&table[]=1&table[]=2&table[]=17&table[]=19
              var idPlantilla = $('#idPlantilla').val();
              //Paso all Ajax
              $.ajax({
                  url: 'Plantillas.php?',
                  data: orden + '&idPlantilla=' + idPlantilla + '&accion=CAMBIAR_ORDEN',
                  type: 'GET'
              });
            }
        });
    });
</script>

<!--Fin del Body--> 
</body>
</html>

